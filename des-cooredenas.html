<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Des-Cooredenadas</title>

    <link rel="stylesheet" href="estilos.css" />

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Funnel+Sans:ital,wght@0,300..800;1,300..800&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <main>
      <a href="index.html" class="homebutton"
        >^ <span class="mobileonly">voltar</span></a
      >

      <a href="#infomenu" class="infobutton"
        ><span class="mobileonly">info</span> +</a
      >

      <!-- O menu flutuante -->
      <div id="infomenu" class="infomenu">
        <div class="blur"></div>
        <div class="infocontent">
          <p>
            <span class="cabecalho">Editorial</span>
          </p>
          <p>
            O projeto Des-Coordenadas é uma série editorial que explora
            episódios marcantes na cidade do Porto, deslocando o olhar para
            acontecimentos de cariz social, cultural e humanitáro. Este projeto
            surge como resposta ao exercício de desenvolver um projeto editorial
            num formato de dimensões limitadas, cada edição investiga um evento
            particular, visando destacar o impacto no espaço urbano e nas
            comunidades locais, sem amenizar as suas complexidades. <br />São
            abordados temas como a gentrificação, identidade Queer, memória
            cultural, mitos e discriminação. Este projeto convida à empatia e ao
            diálogo sobre acontecimentos que moldam o tecido social da cidade
            portuense.
          </p>
          <p>
            <span class="rodape"> Projeto conjunto com Lara Portelinha</span>
          </p>

          <!-- Botão para fechar o menu -->
          <a href="#" class="closeinfo"
            ><span class="mobileonly">fechar</span> x</a
          >
        </div>
      </div>

      <div class="carrossel-container">
        <div class="carrossel ativo">
          <img src="images/descoordenadas/1.png" alt="Imagem 1" />
        </div>

        <div class="carrossel ativo">
          <img src="images/descoordenadas/2.png" alt="Imagem 2" />
        </div>

        <div class="carrossel ativo">
          <img src="images/descoordenadas/3.png" alt="Imagem 3" />
        </div>

        <div class="carrossel ativo">
          <img src="images/descoordenadas/4.png" alt="Imagem 4" />
        </div>

        <div class="carrossel ativo">
          <img src="images/descoordenadas/5.png" alt="Imagem 5" />
        </div>

        <div class="carrossel ativo">
          <img src="images/descoordenadas/6.png" alt="Imagem 6" />
        </div>

        <div class="carrossel ativo">
          <img src="images/descoordenadas/7.png" alt="Imagem 7" />
        </div>

        <div class="carrossel ativo">
          <img src="images/descoordenadas/8.png" alt="Imagem 8" />
        </div>

        <div class="carrossel ativo">
          <img src="images/descoordenadas/9.png" alt="Imagem 9" />
        </div>

        <div class="carrossel ativo">
          <img src="images/descoordenadas/9.png" alt="Imagem 9" />
        </div>

        <div class="carrossel ativo">
          <img src="images/descoordenadas/10.png" alt="Imagem 10" />
        </div>

        <div class="carrossel ativo">
          <img src="images/descoordenadas/11.png" alt="Imagem 11" />
        </div>

        <div class="carrossel ativo">
          <img src="images/descoordenadas/12.png" alt="Imagem 12" />
        </div>

        <div class="carrossel ativo">
          <img src="images/descoordenadas/13.png" alt="Imagem 13" />
        </div>

        <div class="carrossel ativo">
          <img src="images/descoordenadas/14.png" alt="Imagem 14" />
        </div>

        <div class="carrossel ativo">
          <img src="images/descoordenadas/15.png" alt="Imagem 15" />
        </div>

        <div class="carrossel ativo">
          <img src="images/descoordenadas/16.png" alt="Imagem 16" />
        </div>

        <div class="carrossel ativo">
          <img src="images/descoordenadas/17.png" alt="Imagem 17" />
        </div>

        <div class="carrossel ativo">
          <img src="images/descoordenadas/18.png" alt="Imagem 18" />
        </div>

        <div class="carrossel ativo">
          <img src="images/descoordenadas/19.png" alt="Imagem 19" />
        </div>

        <div class="carrossel ativo">
          <img src="images/descoordenadas/20.png" alt="Imagem 20" />
        </div>

        <div class="carrossel ativo">
          <img src="images/descoordenadas/21.png" alt="Imagem 21" />
        </div>

        <div class="carrossel ativo">
          <img src="images/descoordenadas/22.png" alt="Imagem 22" />
        </div>

        <div class="carrossel ativo">
          <img src="images/descoordenadas/23.png" alt="Imagem 23" />
        </div>

        <div class="carrossel ativo">
          <img src="images/descoordenadas/24.png" alt="Imagem 24" />
        </div>

        <a class="prev" onclick="mudarSlide(-1)"
          >&lt; <span class="mobileonly">anterior</span></a
        >
        <a class="next" onclick="mudarSlide(1)"
          ><span class="mobileonly">próximo</span> &gt;</a
        >
      </div>
    </main>
    <footer>
      <a href="mailto:airesdiogo2004@gmail.com">airesdiogo2004@gmail.com ></a>
    </footer>

    <script>
      let slideAtual = 0;
      const slides = document.querySelectorAll(".carrossel");

      function mostrarSlide(index) {
        slides.forEach((slide, i) => {
          slide.classList.remove("ativo");
        });

        slides[index].classList.add("ativo");
      }

      function mudarSlide(direcao) {
        slideAtual += direcao;

        if (slideAtual < 0) slideAtual = slides.length - 1;
        if (slideAtual >= slides.length) slideAtual = 0;

        mostrarSlide(slideAtual);
      }

      // Inicializar
      window.addEventListener("DOMContentLoaded", () => {
        mostrarSlide(slideAtual);
      });

      // ===== Scroll para mudar slide =====
      let scrollTimeout = false;

      window.addEventListener("wheel", (e) => {
        if (scrollTimeout) return;

        if (e.deltaY > 0) {
          mudarSlide(1); // Scroll para baixo
        } else if (e.deltaY < 0) {
          mudarSlide(-1); // Scroll para cima
        }

        scrollTimeout = true;
        setTimeout(() => (scrollTimeout = false), 200); // Delay de 800ms entre scrolls
      });

      // ===== Touch (mobile) para mudar slide =====
      let touchStartY = null;

      window.addEventListener("touchstart", (e) => {
        touchStartY = e.touches[0].clientY;
      });

      window.addEventListener("touchend", (e) => {
        if (touchStartY === null) return;

        const touchEndY = e.changedTouches[0].clientY;
        const deltaY = touchStartY - touchEndY;

        if (Math.abs(deltaY) > 50) {
          if (deltaY > 0) {
            mudarSlide(1); // Swipe para cima
          } else {
            mudarSlide(-1); // Swipe para baixo
          }
        }

        touchStartY = null;
      });
    </script>
  </body>
</html>
